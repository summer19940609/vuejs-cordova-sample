(function(t){function e(e){for(var a,i,s=e[0],c=e[1],u=e[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02ce":function(t,e,n){},"13b2":function(t,e,n){},"23bd":function(t,e,n){"use strict";n("13b2")},3610:function(t,e,n){"use strict";n("afd1")},"527a":function(t,e,n){"use strict";n("02ce")},"56d7":function(t,e,n){"use strict";n.r(e);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var a=n("2b0e"),r=n("ce5b"),o=n.n(r),i=(n("5363"),n("bf40"),n("d5e8"),n("d1e7"),new o.a({icons:{iconfont:"mdi"}}));a["default"].use(o.a,i);var s=i,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{toolbar:""}},[n("myToolbar"),n("v-content",[n("Loading",{directives:[{name:"show",rawName:"v-show",value:t.LOADING,expression:"LOADING"}]}),n("v-slide-y-transition",{attrs:{mode:"out-in"}},[n("v-container",{staticClass:"main-container"},[n("router-view")],1)],1)],1)],1)},u=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("myContentDrawer")],1),n("v-app-bar",{staticClass:"indigo",attrs:{"clipped-left":"",app:""}},[n("v-app-bar-nav-icon",{attrs:{dark:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-toolbar-title",{staticClass:"white--text",on:{click:t.goHome}},[t._v(t._s(t.TITLE))])],1)],1)},d=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{staticClass:"indigo",attrs:{flat:""}}),t._l(t.items,(function(e,a){return n("v-list-item",{key:"item_"+a,attrs:{to:e.action}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)}))],2)},p=[],h={name:"drawer",data:function(){return{items:[{icon:"home",text:"基金",action:"fund"},{icon:"home",text:"v2ex热帖",action:"v2ex"},{icon:"home",text:"NGA",action:"nga"}]}}},v=h,g=n("2877"),m=Object(g["a"])(v,f,p,!1,null,null,null),b=m.exports,y=n("2f62");function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O={name:"myToolbar",components:{myContentDrawer:b},computed:x({},Object(y["b"])(["TITLE"])),data:function(){return{drawer:!1}},mounted:function(){document.addEventListener("toggleDrawer",this.toggleDrawer)},beforeDestroy:function(){document.removeEventListener("toggleDrawer",this.toggleDrawer)},methods:{toggleDrawer:function(){this.drawer=!this.drawer},goHome:function(){window.location.hash="/"}}},k=O,j=Object(g["a"])(k,l,d,!1,null,null,null),S=j.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading"},[n("van-loading",{attrs:{type:"spinner",color:"#1989fa",size:"24px",vertical:""}})],1)},C=[],P=n("543e");a["default"].use(P["a"]);var D={name:"LOADING",data:function(){return{}}},I=D,T=(n("527a"),Object(g["a"])(I,L,C,!1,null,"369814ae",null)),A=T.exports;function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){N(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M={name:"app",computed:$({},Object(y["b"])(["LOADING"])),components:{myToolbar:S,Loading:A}},F=M,G=(n("23bd"),Object(g["a"])(F,c,u,!1,null,"fbacfc48",null)),R=G.exports,J=n("8c4f"),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fund-container",attrs:{"text-center":""}},[n("van-pull-refresh",{staticClass:"refresh-box",attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("van-skeleton",{staticStyle:{"margin-top":"20px"},attrs:{"row-width":"[100%,100%,100%,100%]",animate:"",row:4,loading:t.indexSkeletonLoading}},[n("div",{staticClass:"fund-index-box"},t._l(t.fundIndexList,(function(e){return n("van-row",{key:e.f12},[n("van-col",{attrs:{span:"6"}},[t._v(t._s(e.f14))]),n("van-col",{attrs:{span:"6"}},[t._v(t._s(e.f2))]),n("van-col",{class:e.f4>0?"text-red":"text-green",attrs:{span:"6"}},[t._v(t._s(e.f4))]),n("van-col",{class:e.f3>0?"text-red":"text-green",attrs:{span:"6"}},[t._v(t._s(e.f3)+"%")])],1)})),1)]),t.hasSync?n("van-skeleton",{staticClass:"fund-detail-sk",staticStyle:{"margin-top":"20px"},attrs:{animate:"",row:9,loading:t.skeletonLoading}},[n("div",{staticClass:"fund-sum-box"},[n("span",[t._v("日收益")]),n("span",{class:t.dayIncome>0?"text-red":"text-green"},[t._v(t._s(t.dayIncome))]),n("span",{class:t.dayIncome>0?"text-red":"text-green"},[t._v(t._s(t.dayIncomePercent)+"%")])]),n("div",{staticClass:"fund-detail-box"},t._l(t.fundList,(function(e){return n("div",{key:e.code,staticClass:"fund-detail-item"},[n("van-row",[n("van-col",{staticStyle:{"text-align":"left","font-weight":"500"},attrs:{span:"20"}},[t._v(t._s(e.SHORTNAME)+" "+t._s(e.code))]),n("van-col",{staticStyle:{"text-align":"right"},attrs:{span:"4"}},[t._v(t._s(e.GZTIME))])],1),n("van-row",[n("van-col",{staticClass:"fund-detail-fs",attrs:{span:"8"}},[n("span",[t._v("份数/金额")]),n("span",[t._v(t._s(e.num))]),n("span",[t._v(t._s(e.CYJE))])]),n("van-col",{staticClass:"fund-detail-cy",attrs:{span:"8"}},[n("span"),n("span")]),n("van-col",{staticClass:"fund-detail-gj",attrs:{span:"8"}},[n("span",[t._v("估计收益")]),n("span",{class:e.GSZZL>0?"text-red":"text-green"},[t._v(t._s(e.GSZZL)+"%")]),n("span",{class:e.GSZZL>0?"text-red":"text-green"},[t._v(t._s(e.GSSY))])])],1)],1)})),0),n("van-divider",[t._v("到底啦")])],1):t._e(),t.hasSync?t._e():n("van-empty",{attrs:{description:"还没有同步"}},[n("van-button",{staticClass:"bottom-button",attrs:{round:"",type:"danger"},on:{click:t.jumpToSync}},[t._v("去同步")])],1)],1),n("v-speed-dial",{attrs:{top:t.top,bottom:t.bottom,right:t.right,left:t.left,direction:t.direction,"open-on-hover":t.hover,transition:t.transition},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{color:"blue darken-2",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.fab?n("v-icon",[t._v("mdi-close")]):n("v-icon",[t._v("mdi-wrench")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[n("v-btn",{attrs:{fab:"",dark:"",big:"",color:"red"},on:{click:t.jumpToSync}},[t._v("同步")])],1)],1)},H=[],q=n("a34a"),Z=n.n(q),V=n("5a0c"),U=n.n(V);function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){B(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(a,r)}function W(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){K(o,a,r,i,s,"next",t)}function s(t){K(o,a,r,i,s,"throw",t)}i(void 0)}))}}var Q={name:"fund",data:function(){return{isLoading:!1,fundList:[],fundIndexList:[],skeletonLoading:!0,indexSkeletonLoading:!0,hasSync:!1}},created:function(){this.$store.commit("setTitle","基金")},mounted:function(){this.getFundIndexData(),this.initData()},methods:{openMenu:function(){document.dispatchEvent(new CustomEvent("toggleDrawer",{}))},onRefresh:function(){var t=this,e=U()().format("HH:mm");e<"15:00"&&(this.getFundIndexData(),this.initData()),setTimeout((function(){t.isLoading=!1}),1e3)},initData:function(){var t=W(Z.a.mark((function t(){var e,n,a,r,o,i;return Z.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=localStorage.getItem("x2rrFundList"),e){t.next=3;break}return t.abrupt("return");case 3:return e=JSON.parse(e),n=e.map((function(t){return t.code})),t.next=7,this.getFundInfo(n);case 7:a=t.sent,r=0,o=0,e=e.map((function(t){var e=a.find((function(e){return e["FCODE"]==t.code}));return t=Y(Y({},t),e),t["CYJE"]=(t.num*t.NAV).toFixed(2),t["GSSY"]=(t.CYJE*t.GSZZL/100).toFixed(2),t["GZTIME"]=U()(t.GZTIME).format("HH:mm"),r+=Number(t.GSSY),o+=Number(t.CYJE),t})),this.fundList=e,this.dayIncome=r.toFixed(2),i=(r/o*100).toFixed(2),this.dayIncomePercent=i,this.skeletonLoading=!1,this.hasSync=!0;case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getX2rrFundsData:function(t,e){var n=this;return new Promise((function(a,r){n.$axios.post("https://2955b122-0e37-42a7-a4ee-4ddd503fe6b6.bspapp.com/http/user-center",{action:"login",params:{username:t,password:e}}).then((function(t){console.log("====> 获取x2rr备份的个人基金数据的值为: ",t),0!=t.data.code&&a({err:t.data.message,fundList:null});var e=JSON.parse(t.data.userInfo.config_data),n=e.fundListM;localStorage.setItem("x2rrFundList",JSON.stringify(n)),a({err:null,fundList:n})})).catch((function(t){n.$toast.fail(t),console.log("====> err的值为: ",t),r({err:t,fundList:null})}))}))},getFundIndexData:function(){var t=this;this.$axios.get("https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&fields=f2,f3,f4,f12,f13,f14&secids=1.000001,1.000300,0.399001,0.399006&_=1615516863425").then((function(e){var n=e.data.data.diff;t.fundIndexList=n,t.indexSkeletonLoading=!1})).catch((function(e){t.$toast.fail(e),console.log("====> err的值为: ",e)}))},getFundInfo:function(t){var e=this;return new Promise((function(n,a){var r="https://fundmobapi.eastmoney.com/FundMNewApi/FundMNFInfo?pageIndex=1&pageSize=200&plat=Android&appType=ttjj&product=EFund&Version=1&deviceid=c6a12d28-1e46-46df-bd62-d543d600b464&Fcodes=".concat(t.join(","));e.$axios.get(r).then((function(t){console.log("====> 获取基金信息接口返回的值为: ",t);var e=t.data.Datas||[];n(e)})).catch((function(t){console.log("====> err的值为: ",t),e.$toast.fail(t),a(t)}))}))},jumpToSync:function(){this.$router.push("/login")}}},tt=Q,et=(n("3610"),Object(g["a"])(tt,z,H,!1,null,"1c24c984",null)),nt=et.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"login-container"},[n("van-form",{on:{submit:t.onSubmit}},[n("van-field",{attrs:{name:"username",label:"用户名",placeholder:"用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",loading:t.loading,disabled:t.loading,type:"info","loading-text":"加载中...","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},rt=[];function ot(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(a,r)}function it(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){ot(o,a,r,i,s,"next",t)}function s(t){ot(o,a,r,i,s,"throw",t)}i(void 0)}))}}var st={name:"login",data:function(){return{username:"",password:"",loading:!1}},created:function(){this.$store.commit("setTitle","基金同步")},mounted:function(){},methods:{onSubmit:function(){var t=it(Z.a.mark((function t(e){var n,a,r,o;return Z.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.username,a=e.password,this.loading=!0,t.next=4,this.getX2rrFundsData(n,a);case 4:if(r=t.sent,o=r.err,r.data,!o){t.next=11;break}return this.$toast.fail(o),this.loading=!1,t.abrupt("return");case 11:this.$toast.success("同步成功"),this.loading=!1,this.$router.push("/fund");case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getX2rrFundsData:function(t,e){var n=this;return new Promise((function(a,r){n.$axios.post("https://2955b122-0e37-42a7-a4ee-4ddd503fe6b6.bspapp.com/http/user-center",{action:"login",params:{username:t,password:e}}).then((function(t){console.log("====> 获取x2rr备份的个人基金数据的值为: ",t),0!=t.data.code&&a({err:t.data.message,data:null});var e=JSON.parse(t.data.userInfo.config_data),n=e.fundListM;localStorage.setItem("x2rrFundList",JSON.stringify(n)),a({err:null,data:n})})).catch((function(t){console.log("====> err的值为: ",t),r({err:t,data:null})}))}))}}},ct=st,ut=(n("c8d6"),Object(g["a"])(ct,at,rt,!1,null,"3129ba40",null)),lt=ut.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isRefreshing,callback:function(e){t.isRefreshing=e},expression:"isRefreshing"}},[n("van-skeleton",{attrs:{row:3,loading:t.isLoading,"row-width":"[100%,100%,100%]"}},[t._l(t.list,(function(e,a){return n("van-cell",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],key:e.id,staticClass:"cell-text",attrs:{value:a+1+"."+e.title,"is-link":""},on:{click:function(n){return t.jump2V2ex(e.url)}}})})),n("van-divider",[t._v("到底了")])],2)],1)],1)},ft=[],pt={data:function(){return{list:[],isRefreshing:!1,isLoading:!0}},created:function(){this.$store.commit("setTitle","V2EX")},mounted:function(){this.getV2exHot()},methods:{onRefresh:function(){var t=this;this.getV2exHot(),setTimeout((function(){t.isRefreshing=!1}),1e3)},getV2exHot:function(){var t=this;window.cordova.plugin.http.get("https://api.mrcuriosity.org/sites/v2ex/items",{},{},(function(e){200!==e.status&&(console.log("获取数据失败"),t.$toast.fail("获取数据失败")),t.$toast.success("获取数据成功"),t.list=JSON.parse(e.data),t.isLoading=!1}),(function(e){console.log(JSON.stringify(e)),t.$toast.fail(e)}))},jump2V2ex:function(t){window.open(t,"_blank","zoom=no")}}},ht=pt,vt=(n("e5d8"),Object(g["a"])(ht,dt,ft,!1,null,"3a24f833",null)),gt=vt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"login-container"},[n("van-pull-refresh",{attrs:{"success-text":"刷新成功"},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{finished:t.finished,offset:"100"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e){return n("div",{key:e.tid,staticClass:"topic-item",on:{click:function(n){return t.go2detail(e.tpcurl)}}},[n("div",{staticClass:"topic-title"},[t._v(t._s(""+e.subject))]),e.img?n("div",{staticClass:"img-group"},t._l(e.img,(function(t){return n("img",{key:t,staticClass:"topic-img",attrs:{src:"https://img.nga.178.com/attachments/"+t,alt:""}})})),0):t._e(),n("van-row",{staticClass:"topic-author-reply"},[n("van-col",{staticClass:"topic-author",attrs:{span:"20"}},[t._v(t._s(e.author))]),n("van-col",{staticClass:"topic-reply-num",attrs:{span:"4"}},[t._v(t._s(e.replies))])],1)],1)})),0)],1)],1)},bt=[];function yt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=wt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function wt(t,e){if(t){if("string"===typeof t)return xt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(t,e):void 0}}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function _t(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(a,r)}function Ot(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){_t(o,a,r,i,s,"next",t)}function s(t){_t(o,a,r,i,s,"throw",t)}i(void 0)}))}}var kt={name:"nga",data:function(){return{fid:"706",defaultPageSize:36,hasData:!1,list:[],loading:!1,finished:!1,refreshing:!1,page:1,pageMax:1,total:0,nga_cookie:"bbsmisccookies=%7B%22pv_count_for_insad%22%3A%7B0%3A-44%2C1%3A1616432476%7D%2C%22insad_views%22%3A%7B0%3A1%2C1%3A1616432476%7D%2C%22uisetting%22%3A%7B0%3A%22b%22%2C1%3A1616424785%7D%7D; lastpath=/thread.php?fid=706&rand=348; lastvisit=1616424485; ngaPassportCid=X94a566bs5dp95io9r4mmotk703fsbtv52nfdsma; ngaPassportUid=62671744; ngaPassportUrlencodedUname=verygoodbye; ngacn0comInfoCheckTime=1616424482; ngacn0comUserInfo=verygoodbye%09verygoodbye%0939%0939%09%0910%090%094%090%090%09; ngacn0comUserInfoCheck=a79af1523ef7db96cdff7873b19e2afa; ngaPassportOid=a33135eb553e3d68deddf326a01788eb; guestJs=1616424469; taihe_bi_sdk_session=8dd0ecb6ecded9d78a753bdc2a330f70; taihe_bi_sdk_uid=e35bdc61c6574f31e0d47e33cb1dccd0"}},created:function(){this.$store.commit("setTitle","大时代")},mounted:function(){var t=Ot(Z.a.mark((function t(){var e,n,a,r;return Z.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.handelTopic(this.fid,"1");case 2:if(e=t.sent,n=e.list,a=e.total,r=e.err,!r){t.next=8;break}return t.abrupt("return");case 8:this.list=n,this.total=a,this.pageMax=Math.ceil(a/this.defaultPageSize);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{handelTopic:function(){var t=Ot(Z.a.mark((function t(e,n){var a,r,o,i,s,c,u,l,d,f;return Z.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("showLoading"),t.next=3,this.getNgaTopic(e,String(n));case 3:if(a=t.sent,r=a.list,o=a.total,i=a.err,!i){t.next=10;break}return this.$store.commit("hideLoading"),t.abrupt("return",i);case 10:if(r.length){t.next=12;break}return t.abrupt("return");case 12:s=yt(r),t.prev=13,s.s();case 15:if((c=s.n()).done){t.next=28;break}return u=c.value,t.next=19,this.getReadDetail(String(u.tid),"1");case 19:l=t.sent,d=l.data,l.err,u["__T"]=d.__T,f=d.__T.post_misc_var.attachs,f&&Array.isArray(f)&&(u["img"]=f.map((function(t){return t.attachurl})));case 26:t.next=15;break;case 28:t.next=33;break;case 30:t.prev=30,t.t0=t["catch"](13),s.e(t.t0);case 33:return t.prev=33,s.f(),t.finish(33);case 36:return this.$store.commit("hideLoading"),t.abrupt("return",{list:r,total:o,err:i});case 38:case"end":return t.stop()}}),t,this,[[13,30,33,36]])})));function e(e,n){return t.apply(this,arguments)}return e}(),getNgaTopic:function(t,e){var n=this;return new Promise((function(a,r){var o={fid:t,page:e,__output:"11"};console.log("==== params => ".concat(JSON.stringify(o)));var i={"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36",Host:"bbs.nga.cn",Connection:"keep-alive","Cache-Control":"max-age=0","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8","Accept-Encoding":"gzip, deflate, br",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9",Cookie:n.nga_cookie},s={method:"post",data:o,headers:i,responseType:"json",timeout:10};window.cordova.plugin.http.clearCookies(),window.cordova.plugin.http.sendRequest("https://bbs.nga.cn/thread.php",s,(function(t){200!==t.status&&(n.$toast.fail("error"),r({list:null,total:null,err:"error"}));var e=t.data,o=e.data.__T,i=[];Array.isArray(o)?i=o:"[object Object]"===Object.prototype.toString.call(o)&&(i=Object.values(o)),a({list:i,total:e.data.__ROWS,err:null})}),(function(t){console.log("====> [thread.php]的err为: ".concat(JSON.stringify(t))),n.$toast.fail("获取数据失败"),r({list:null,total:null,err:t})}))}))},getReadDetail:function(t,e){var n=this;return new Promise((function(a,r){var o={tid:t,v2:"1",page:e,__output:"11"},i={"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36",Host:"bbs.nga.cn",Connection:"keep-alive","Cache-Control":"max-age=0","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8","Accept-Encoding":"gzip, deflate, br",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9",Cookie:n.nga_cookie},s={method:"post",data:o,headers:i,responseType:"json",timeout:10};window.cordova.plugin.http.clearCookies(),window.cordova.plugin.http.sendRequest("https://bbs.nga.cn/read.php",s,(function(t){200!==t.status&&(n.$toast.fail("error"),r({data:null,err:"error"}));var e=t.data.data;a({data:e,err:null})}),(function(t){console.log("====> [read.php]的err为: ".concat(JSON.stringify(t))),n.$toast.fail("获取数据失败"),r({data:null,err:t})}))}))},onRefresh:function(){this.finished=!1,this.loading=!0,this.onLoad()},onLoad:function(){var t=Ot(Z.a.mark((function t(){var e,n,a,r;return Z.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.refreshing&&(this.list=[],this.refreshing=!1),t.next=3,this.handelTopic(this.fid,this.page+1);case 3:if(e=t.sent,n=e.list,a=e.total,r=e.err,!r){t.next=9;break}return t.abrupt("return");case 9:this.list=n,this.total=a,this.pageMax=Math.ceil(a/this.defaultPageSize),this.loading=!1;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),go2detail:function(t){window.open("https://bbs.nga.cn".concat(t),"_blank","location=yes")}}},jt=kt,St=(n("7b88"),Object(g["a"])(jt,mt,bt,!1,null,"4b1d1e78",null)),Lt=St.exports;a["default"].use(J["a"]);var Ct=new J["a"]({routes:[{path:"/",name:"Fund",component:nt},{path:"/fund",name:"Fund",component:nt},{path:"/login",name:"Login",component:lt},{path:"/v2ex",name:"V2ex",component:gt},{path:"/nga",name:"Nga",component:Lt}]}),Pt=n("bc3a"),Dt=n.n(Pt),It=n("b970");a["default"].use(y["a"]);var Tt=new y["a"].Store({state:{LOADING:!1,TITLE:"cordova+vue"},mutations:{showLoading:function(t){t.LOADING=!0},hideLoading:function(t){t.LOADING=!1},setTitle:function(t,e){t.TITLE=e}}}),At=Tt;n("157a");a["default"].use(It["a"]),a["default"].prototype.$axios=Dt.a,a["default"].config.productionTip=!1;var Et=function(){new a["default"]({vuetify:s,router:Ct,store:At,render:function(t){return t(R)}}).$mount("#app")};document.addEventListener("deviceready",(function(){console.log("Ready, Render the App"),Et(),window.open=window.cordova.InAppBrowser.open}));var $t="undefined"!==typeof window.cordova;$t||document.dispatchEvent(new CustomEvent("deviceready",{}))},"5f3d":function(t,e,n){},"7b88":function(t,e,n){"use strict";n("5f3d")},afd1:function(t,e,n){},c8d6:function(t,e,n){"use strict";n("dea3")},dea3:function(t,e,n){},e5d8:function(t,e,n){"use strict";n("f843")},f843:function(t,e,n){}});
//# sourceMappingURL=app.1bb52520.js.map